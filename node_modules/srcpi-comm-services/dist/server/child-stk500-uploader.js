!function(n){function e(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};e.m=n,e.c=o,e.d=function(n,o,t){e.o(n,o)||Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:t})},e.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(o,"a",o),o},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=10)}([,,function(n,e){n.exports=require("bluetooth-serial-port")},function(n,e){n.exports=require("serialport")},,function(n,e,o){"use strict";function t(n,e,o,t,r,u){var i;try{i=new c(n,{baudRate:e,hupcl:!1,autoOpen:!1,lock:!0})}catch(n){return console.log("ajsldfjaslkdf"),u(n,null)}o&&i.on("open",function(n){o()}),t&&i.on("close",function(n){t()}),r&&i.on("data",function(n){r(n)}),i.open(function(n){n?u(n,null):i.set({dtr:!1,rts:!1},function(){setTimeout(function(){i.set({dtr:!0,rts:!0},function(){u(n,i)})},20)})})}function r(n,e){n.close(function(n){e(n)})}var c=o(3);n.exports={openSerial:t,closeSerial:r}},,,,,function(n,e,o){"use strict";function t(n,e,o){var t,r,u;m.series([function(e){p?g.readFile(n,{encoding:"utf8"},function(n,o){n?e(n):(t=o,e(null))}):(t=n,e(null))},function(n){if(0==e.type){var o=e.comName,t=e.baud;t=Number(t),b(o,t,null,null,null,function(e,o){e?n(e):(r=o,u=c.util.createStreamFromSerialport(r),n(null))})}else{r=new v.BluetoothSerialPort;var i=e.addr,l=e.channel;r.connect(i,l,function(){u=c.util.createStreamFromBtport(r),n(null)},function(){n(new Error("Bluetooth connect failed!"))})}},function(n){c.hexUpload(u,t,function(e){n(e)},{timeout:600})},function(n){r.on("closed",function(){n(null)}),r.on("close",function(){n(null)}),r.close()}],function(n){o(n)})}function r(){t(d,{type:x,comName:l,baud:s,addr:a,channel:f},function(n){n?(n.message?console.log(n.message):console.log(n),process.exit(1)):process.exit(0)})}var c=o(11),u="Usage: node child-stk500-uploader.js isHexFile hexfile/hexData type arg1 arg2",i=process.argv.splice(2);void 0===i[0]&&(console.log(u),process.exit(1));var l,s,a,f,p=i[0],d=i[1],x=i[2];0==x?(l=i[3],s=i[4]):1==x?(a=i[3],f=i[4]):(console.log(u),process.exit(1)),p=Boolean(Number(p));var m=o(12),g=o(13),v=o(2),h=o(5),b=h.openSerial;h.closeSerial;p?r():(d="",process.stdin.on("data",function(n){d+=n}),process.stdin.on("end",function(){r()}))},function(n,e){n.exports=require("bettertree-js-stk500")},function(n,e){n.exports=require("async")},function(n,e){n.exports=require("fs")}]);